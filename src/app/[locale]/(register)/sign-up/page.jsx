"use client"
import Image from "next/image"
import IMG_car from '@/assets/login/car.png'
import { X } from "lucide-react"
import {Link} from '@/navigation';

import { sign_upSchema } from '@/validation/sign_upSchema'
import { Toaster } from 'react-hot-toast'
import { useTranslations } from "next-intl"
import InputPlus from "@/atoms/InputPlus"
import ButtonLoad from "@/atoms/ButtonLoad"
import { usePostAuth } from "@/utils/usePost"
import { useSignup } from "@/utils/useSignup";



const page = () => {
  const t = useTranslations("sign-up")

  //! Submit handler
  const [ register , Submit , errors , isLoading] = useSignup()


  return (
    <div className="sign-up">
      <Image  src={IMG_car} alt="car" />
      <div className="container">
          <form onSubmit={Submit} >
            <div className="head">
              
              <h2 > {t("depart")} <Link href="/" className="x" > <X /> </Link></h2>
              </div>

            <InputPlus  
              label={t.raw("inputs")[0].label}  
              id="email" 
              type="email" 
              place={t.raw("inputs")[0].place}
              err_star="no" 
              reg={register("email")}
              err= {errors.email}
              classn='input'
              icon={<svg className="lock" width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M1.5 16C1.1 16 0.75 15.85 0.45 15.55C0.15 15.25 0 14.9 0 14.5V1.5C0 1.1 0.15 0.75 0.45 0.45C0.75 0.15 1.1 0 1.5 0H18.5C18.9 0 19.25 0.15 19.55 0.45C19.85 0.75 20 1.1 20 1.5V14.5C20 14.9 19.85 15.25 19.55 15.55C19.25 15.85 18.9 16 18.5 16H1.5ZM18.5 2.875L10.4 8.175C10.3333 8.20833 10.2708 8.2375 10.2125 8.2625C10.1542 8.2875 10.0833 8.3 10 8.3C9.91667 8.3 9.84583 8.2875 9.7875 8.2625C9.72917 8.2375 9.66667 8.20833 9.6 8.175L1.5 2.875V14.5H18.5V2.875ZM10 6.95L18.4 1.5H1.625L10 6.95ZM1.5 3.05V2.06707V2.08537V1.5V2.075V2.0522V3.05Z" fill="#B0B5AF"/> </svg>} />

            
            <InputPlus  
              label={t.raw("inputs")[1].label}  
              id="phone" 
              type="phone" 
              place={t.raw("inputs")[1].place}
              err_star="no" 
              reg={register("phone")}
              err= {errors.phone}
              classn='input'
              icon={<svg className="lock" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.47375 16.9455C1.5135 16.9125 6.00525 13.698 7.224 13.9088C7.80975 14.0122 8.145 14.4113 8.81625 15.2115C9.00183 15.4341 9.19161 15.6531 9.3855 15.8685C9.80975 15.7303 10.2236 15.5619 10.6238 15.3645C12.6896 14.3588 14.3588 12.6896 15.3645 10.6237C15.5619 10.2236 15.7303 9.80975 15.8685 9.3855C15.648 9.18375 15.339 8.9235 15.207 8.8125C14.4113 8.145 14.0122 7.80975 13.9088 7.22325C13.6965 6.009 16.9125 1.5135 16.9455 1.473C17.092 1.26529 17.2827 1.09269 17.504 0.967663C17.7252 0.842632 17.9715 0.768289 18.225 0.75C19.5285 0.75 23.25 5.577 23.25 6.39075C23.25 6.438 23.1817 11.241 17.259 17.2658C11.241 23.1817 6.438 23.25 6.39075 23.25C5.577 23.25 0.75 19.5285 0.75 18.225C0.768272 17.9714 0.842688 17.7251 0.967857 17.5038C1.09303 17.2825 1.26583 17.0918 1.47375 16.9455ZM6.47325 21.7455C7.12875 21.6915 11.1593 21.1597 16.1985 16.209C21.1747 11.1427 21.693 7.101 21.7448 6.47475C20.7617 4.93173 19.5744 3.52877 18.2153 2.304C18.1853 2.334 18.1455 2.379 18.0945 2.4375C17.0521 3.86042 16.1542 5.3837 15.414 6.98475C15.6547 7.2269 15.9091 7.45503 16.176 7.668C16.5899 7.98334 16.9699 8.34075 17.31 8.7345L17.4922 8.9895L17.4383 9.29775C17.2795 9.9853 17.0364 10.6506 16.7145 11.2785C15.5611 13.647 13.6472 15.5607 11.2785 16.7137C10.6507 17.0361 9.98539 17.2795 9.29775 17.4382L8.9895 17.4923L8.7345 17.31C8.33926 16.9684 7.98036 16.5869 7.6635 16.1715C7.42875 15.891 7.1145 15.5168 6.996 15.411C5.3904 16.1505 3.86322 17.0495 2.4375 18.0945C2.37525 18.147 2.33175 18.1875 2.3025 18.2137C3.52707 19.5733 4.93006 20.7609 6.47325 21.744V21.7455Z" fill="#B0B5AF"/></svg>} />


            
            <InputPlus  
              label={t.raw("inputs")[2].label}  
              id="password" 
              type="password" 
              place={t.raw("inputs")[2].place}
              err_star="no" 
              reg={register("password")}
              err= {errors.password}
              classn='input'
              icon={<svg className="lock" width="16" height="21" viewBox="0 0 16 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 21C1.0875 21 0.734375 20.8531 0.440625 20.5594C0.146875 20.2656 0 19.9125 0 19.5V8.65C0 8.2375 0.146875 7.88438 0.440625 7.59063C0.734375 7.29688 1.0875 7.15 1.5 7.15H3.25V4.75C3.25 3.43583 3.71338 2.31563 4.64015 1.38938C5.56692 0.463125 6.68775 0 8.00265 0C9.31755 0 10.4375 0.463125 11.3625 1.38938C12.2875 2.31563 12.75 3.43583 12.75 4.75V7.15H14.5C14.9125 7.15 15.2656 7.29688 15.5594 7.59063C15.8531 7.88438 16 8.2375 16 8.65V19.5C16 19.9125 15.8531 20.2656 15.5594 20.5594C15.2656 20.8531 14.9125 21 14.5 21H1.5ZM1.5 19.5H14.5V8.65H1.5V19.5ZM8.0042 16C8.53473 16 8.9875 15.8164 9.3625 15.4492C9.7375 15.082 9.925 14.6406 9.925 14.125C9.925 13.625 9.7361 13.1708 9.3583 12.7625C8.9805 12.3542 8.52633 12.15 7.9958 12.15C7.46527 12.15 7.0125 12.3542 6.6375 12.7625C6.2625 13.1708 6.075 13.6292 6.075 14.1375C6.075 14.6458 6.2639 15.0833 6.6417 15.45C7.0195 15.8167 7.47367 16 8.0042 16ZM4.75 7.15H11.25V4.75C11.25 3.84722 10.9343 3.07986 10.3029 2.44792C9.67157 1.81597 8.9049 1.5 8.00295 1.5C7.10098 1.5 6.33333 1.81597 5.7 2.44792C5.06667 3.07986 4.75 3.84722 4.75 4.75V7.15Z" fill="#B0B5AF"/></svg>} />


            
            <InputPlus  
              label={t.raw("inputs")[3].label}  
              id="confirmPassword" 
              type="password" 
              place={t.raw("inputs")[3].place}
              err_star="no" 
              reg={register("confirmPassword")}
              err= {errors.confirmPassword}
              classn='input'
              icon={<svg className="lock" width="16" height="21" viewBox="0 0 16 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 21C1.0875 21 0.734375 20.8531 0.440625 20.5594C0.146875 20.2656 0 19.9125 0 19.5V8.65C0 8.2375 0.146875 7.88438 0.440625 7.59063C0.734375 7.29688 1.0875 7.15 1.5 7.15H3.25V4.75C3.25 3.43583 3.71338 2.31563 4.64015 1.38938C5.56692 0.463125 6.68775 0 8.00265 0C9.31755 0 10.4375 0.463125 11.3625 1.38938C12.2875 2.31563 12.75 3.43583 12.75 4.75V7.15H14.5C14.9125 7.15 15.2656 7.29688 15.5594 7.59063C15.8531 7.88438 16 8.2375 16 8.65V19.5C16 19.9125 15.8531 20.2656 15.5594 20.5594C15.2656 20.8531 14.9125 21 14.5 21H1.5ZM1.5 19.5H14.5V8.65H1.5V19.5ZM8.0042 16C8.53473 16 8.9875 15.8164 9.3625 15.4492C9.7375 15.082 9.925 14.6406 9.925 14.125C9.925 13.625 9.7361 13.1708 9.3583 12.7625C8.9805 12.3542 8.52633 12.15 7.9958 12.15C7.46527 12.15 7.0125 12.3542 6.6375 12.7625C6.2625 13.1708 6.075 13.6292 6.075 14.1375C6.075 14.6458 6.2639 15.0833 6.6417 15.45C7.0195 15.8167 7.47367 16 8.0042 16ZM4.75 7.15H11.25V4.75C11.25 3.84722 10.9343 3.07986 10.3029 2.44792C9.67157 1.81597 8.9049 1.5 8.00295 1.5C7.10098 1.5 6.33333 1.81597 5.7 2.44792C5.06667 3.07986 4.75 3.84722 4.75 4.75V7.15Z" fill="#B0B5AF"/></svg>} />

            <ButtonLoad isLoading={isLoading} value1={t.raw("links")[0]} value2={t.raw("links")[1]}  />
            
          </form>

          <span> {t.raw("links")[2]}  <Link href="/sign-in" > {t.raw("links")[3]}  </Link> </span>
          <Toaster />
      </div>
    </div>
  )
}

export default page